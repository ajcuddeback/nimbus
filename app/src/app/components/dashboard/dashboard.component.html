@if (isLoading) {
  <div>Loading....</div>
} @else if (hasError) {
  <div>Errored!</div>
} @else {
  <div class="dashboard-grid">
    <p-card header="Temperature">
      <p-button [label]="tempFormat === 'c' ? 'F' : 'C'" (onClick)="onTempFormatChange()" />
      {{ formattedTemp }}
    </p-card>
    <p-card header="Humidity">
      {{ weatherData[weatherData.length - 1].hum.toFixed(0) }}%
    </p-card>
    <p-card header="Pressure">
      {{ weatherData[weatherData.length - 1].pr.toFixed(0) }} {{ weatherData[weatherData.length - 1].prFormat }}
    </p-card>
    <p-card header="Wind Speed">
      {{ weatherData[weatherData.length - 1].windSpeed.toFixed(0) }} {{ weatherData[weatherData.length - 1].windSpeedFormat }}
    </p-card>
    <p-card header="Wind Direction">
      {{ formatWindDirection(weatherData[weatherData.length - 1].windDirection) }}
    </p-card>
    <p-card header="Rainfall Total">
      {{ weatherData[weatherData.length - 1].rainfall.toFixed(0) }} {{ weatherData[weatherData.length - 1].rainfallFormat }}
    </p-card>
    <p-card header="Wind Speed Variablility">
      <div echarts [options]="windSpeedOptions" class="demo-chart"></div>
    </p-card>
    <p-card header="Todays Wind Speed Variablility">
      <div echarts [options]="todaysWindSpeedOptions" class="demo-chart"></div>
    </p-card>
    <p-card header="Todays Temp Variablility">
      @if (this.tempFormat == 'f') {
        <div echarts [options]="todaysTempOptionsF" class="demo-chart"></div>
      } @else {
        <div echarts [options]="todaysTempOptionsC" class="demo-chart"></div>
      }
    </p-card>
  </div>
}


