@if (isLoading) {
  <div>Loading....</div>
} @else if (hasError) {
  <div>Errored!</div>
} @else {
  <div class="dashboard-grid">
    <p-card header="Temperature">
      <p-button [label]="tempFormat === 'c' ? 'F' : 'C'" (onClick)="onTempFormatChange()" />
      {{ formattedTemp }}
    </p-card>
    <p-card header="Humidity">
      {{ weatherData[weatherData.length - 1].hum.toFixed(0) }}%
    </p-card>
    <p-card header="Pressure">
      {{ weatherData[weatherData.length - 1].pr.toFixed(0) }} {{ weatherData[weatherData.length - 1].prFormat }}
    </p-card>
    <p-card header="Wind Speed">
      {{ weatherData[weatherData.length - 1].windSpeed.toFixed(0) }} {{ weatherData[weatherData.length - 1].windSpeedFormat }}
    </p-card>
    <p-card header="Wind Direction">
      {{ formatWindDirection(weatherData[weatherData.length - 1].windDirection) }}
    </p-card>
    <p-card header="Rainfall Total">
      {{ weatherData[weatherData.length - 1].rainfall.toFixed(0) }} {{ weatherData[weatherData.length - 1].rainfallFormat }}
    </p-card>
    <p-card header="Wind Speed Variablility">
      <app-wind-line [windSpeeds]="gatherWindSpeeds(weatherData)" [timestamps]="gatherTimestamps(weatherData)" />
    </p-card>
    <p-card header="Todays Wind Speed Variablility">
      <app-wind-line [windSpeeds]="gatherWindSpeeds(todaysWeatherData)" [timestamps]="gatherTimestamps(todaysWeatherData)" />
    </p-card>
    <p-card header="Temp Variablility">
      <app-temp-line [tempData]="gatherTemps(weatherData)" [timestamps]="gatherTimestamps(weatherData)" [tempFormat]="tempFormat" />
    </p-card>
    <p-card header="Todays Temp Variablility">
      <app-temp-line [tempData]="gatherTemps(todaysWeatherData)" [timestamps]="gatherTimestamps(todaysWeatherData)" [tempFormat]="tempFormat" />
    </p-card>
    <p-card header="Humidity Variablility">
      <app-humidity-line [humidity]="gatherHumidity(weatherData)" [timestamps]="gatherTimestamps(weatherData)" />
    </p-card>
    <p-card header="Todays Humidity Variablility">
      <app-humidity-line [humidity]="gatherHumidity(todaysWeatherData)" [timestamps]="gatherTimestamps(todaysWeatherData)" />
    </p-card>
  </div>
}


